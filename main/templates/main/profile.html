{% extends 'main/base.html' %}

{% block title %}
پروفایل کاربری
{% endblock %}

{% block content %}

<h2 class="page-title">پروفایل من</h2>

<div class="profile-grid">

    <div class="profile-card">
        <h3>اطلاعات حساب</h3>

        <p><strong>نام کاربری:</strong> {{ user.username }}</p>
        <p><strong>نام:</strong> {{ user.first_name|default:"—" }}</p>
        <p><strong>نام خانوادگی:</strong> {{ user.last_name|default:"—" }}</p>
        <p><strong>ایمیل:</strong> {{ user.email }}</p>
        <p><strong>شماره تماس:</strong> {{ user.phone|default:"—" }}</p>
        <p><strong>تاریخ عضویت:</strong> {{ user.created_at|date:"Y/m/d" }}</p>

        <div class="address-section">
            <strong>آدرس‌ها:</strong>

            {% if user.addresses.exists %}
                <ul class="address-list">
                    {% for address in user.addresses.all %}
                        <li>
                            {{ address.country }}،
                            {{ address.city }}،
                            {{ address.street }}،
                            کد پستی: {{ address.postal_code }}

                            {% if address.is_default %}
                                <span class="default-address">(پیش‌فرض)</span>
                            {% endif %}
                        </li>
                    {% endfor %}
                </ul>
            {% else %}
                <p class="empty-text">آدرسی ثبت نشده است.</p>
            {% endif %}
        </div>
    </div>

</div>

<div class="profile-actions">
    <a href="{% url 'edit_profile' %}" class="btn btn-outline">
        ویرایش پروفایل
    </a>
    <a href="{% url 'delete_account' %}" class="btn btn-outline danger">
        حذف حساب کاربری
    </a>
</div>

{% endblock %}

